# DO NOT EDIT THIS FILE DIRECTLY. To override any element of the
# packaged ownCloud configuration, create a new /etc/httpd/conf.d/
# file which will be read later than 'owncloud.conf'.
#
# As the initial setup wizard is active upon installation, access is
# initially allowed only from localhost. *AFTER* configuring the
# installation correctly and creating the admin account, to allow
# access from any host, do this:
#
# ln -s /etc/httpd/conf.d/owncloud-access.conf.avail /etc/httpd/conf.d/z-owncloud-access.conf

Alias /owncloud/apps-appstore /var/lib/owncloud/apps
Alias /owncloud/assets /var/lib/owncloud/assets
Alias /owncloud /usr/share/owncloud

# Allows compliant CalDAV / CardDAV clients to be configured using only
# the domain name. For more details see # http://tools.ietf.org/html/rfc6764

Redirect 301 /.well-known/carddav /owncloud/remote.php/carddav
Redirect 301 /.well-known/caldav /owncloud/remote.php/caldav
Redirect 301 /.well-known/webdav /owncloud/remote.php/webdav

<Directory /usr/share/owncloud/>
    Include conf.d/owncloud-auth-local.inc
    Include conf.d/owncloud-defaults.inc
    <FilesMatch ^(\.|autotest|occ|issue|indie|db_|console).*>
        Include conf.d/owncloud-auth-none.inc
    </FilesMatch>
</Directory>

<Directory /var/lib/owncloud/apps/>
    Include conf.d/owncloud-auth-local.inc
    Include conf.d/owncloud-defaults.inc
</Directory>

<Directory /var/lib/owncloud/assets/>
    Include conf.d/owncloud-auth-local.inc
    Include conf.d/owncloud-defaults.inc
</Directory>

# For safety, explicitly deny any access to these locations.
# Upstream's .htaccess does something similar with mod_rewrite.

<Directory /var/lib/owncloud/data/>
    Include conf.d/owncloud-auth-none.inc
</Directory>

<DirectoryMatch /usr/share/owncloud/(3rdparty|lib|config|templates)/>
    Include conf.d/owncloud-auth-none.inc
</DirectoryMatch>
