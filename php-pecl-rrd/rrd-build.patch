diff -up rrd-0.10.0/php_rrd.h.build rrd-0.10.0/php_rrd.h
--- rrd-0.10.0/php_rrd.h.build	2011-03-04 20:44:48.013287482 +0100
+++ rrd-0.10.0/php_rrd.h	2011-03-04 20:44:51.842330451 +0100
@@ -22,7 +22,7 @@
 extern zend_module_entry rrd_module_entry;
 #define phpext_rrd_ptr &rrd_module_entry
 
-#define PHP_RRD_VERSION "0.9.0"
+#define PHP_RRD_VERSION "0.10.0"
 
 #ifdef ZTS
 #include "TSRM.h"
diff -up rrd-0.10.0/rrd_create.c.build rrd-0.10.0/rrd_create.c
--- rrd-0.10.0/rrd_create.c.build	2011-03-02 12:55:17.000000000 +0100
+++ rrd-0.10.0/rrd_create.c	2011-03-04 20:41:53.330311653 +0100
@@ -115,7 +115,7 @@ PHP_METHOD(RRDCreator, __construct)
 	char *path; int path_length;
 	/* better to set defaults for optional parameters */
 	char *start_time = NULL; int start_time_length = 0;
-	uint step = 0;
+	long step = 0;
 	int argc = ZEND_NUM_ARGS();
 
 	if (zend_parse_parameters(argc TSRMLS_CC, "s|sl", &path, &path_length,
--- rrd-0.10.0/config.m4.build	2011-03-02 12:55:17.000000000 +0100
+++ rrd-0.10.0/config.m4	2011-03-05 19:17:27.484350149 +0100
@@ -2,7 +2,7 @@
 dnl Comments in this file start with the string 'dnl'.
 
 PHP_ARG_WITH(rrd, for rrdtool support,
-[  --with-rrd[=DIR]          Include rrdtool support (requires rrdtool >= 1.2.x)])
+[  --with-rrd[=DIR]          Include rrdtool support (requires rrdtool >= 1.3.x)])
 
 if test "$PHP_RRD" != "no"; then
   if test "$PHP_RRD" != "yes"; then
@@ -64,10 +64,10 @@
     -L$RRDTOOL_LIBDIR -ldl
   ])
 
-  dnl rrd_version is available in 1.2.0+
-  PHP_CHECK_FUNC(rrd_version, rrd)
-  if test "$ac_cv_func_rrd_version" != yes; then
-    AC_MSG_ERROR([rrd lib version seems older then 1.2.0+, update to 1.3.0+])
+  dnl rrd_graph_v is available in 1.3.0+
+  PHP_CHECK_FUNC(rrd_graph_v, rrd)
+  if test "$ac_cv_func_rrd_graph_v" != yes; then
+    AC_MSG_ERROR([rrd lib version seems older than 1.3.0, update to 1.3.0+])
   fi
 
   dnl rrd_lastupdate_r available in 1.4.0+
