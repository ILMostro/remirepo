diff -up ./class.phpmailer.php.rpm ./class.phpmailer.php
--- ./class.phpmailer.php.rpm	2014-08-11 16:53:52.616058389 +0200
+++ ./class.phpmailer.php	2014-08-11 17:14:27.562681744 +0200
@@ -1170,6 +1170,7 @@ class PHPMailer
     public function getSMTPInstance()
     {
         if (!is_object($this->smtp)) {
+            require_once 'class.smtp.php';
             $this->smtp = new SMTP;
         }
         return $this->smtp;
@@ -1394,7 +1395,7 @@ class PHPMailer
         );
         if (empty($lang_path)) {
             //Calculate an absolute path so it can work if CWD is not here
-            $lang_path = dirname(__FILE__). DIRECTORY_SEPARATOR . 'language'. DIRECTORY_SEPARATOR;
+            $lang_path = '/usr/share/PHPMailer/language/';
         }
         $foundlang = true;
         $lang_file = $lang_path . 'phpmailer.lang-' . $langcode . '.php';
