From 74e4d976a4ad5e56daebe6bff4e95510bb05375f Mon Sep 17 00:00:00 2001
From: Michael M Slusarz <slusarz@horde.org>
Date: Mon, 29 Sep 2014 17:02:53 -0600
Subject: [PATCH] Don't use Horde_Mime::quotedPrintableEncode().

Horde_Mime is no longer a direct dependency of Icalendar
---
 framework/Icalendar/lib/Horde/Icalendar.php | 2 +-
 framework/Icalendar/package.xml             | 7 -------
 2 files changed, 1 insertion(+), 8 deletions(-)

diff --git a/framework/Icalendar/lib/Horde/Icalendar.php b/framework/Icalendar/lib/Horde/Icalendar.php
index e1a2993..6291ef8 100644
--- a/framework/Icalendar/lib/Horde/Icalendar.php
+++ b/framework/Icalendar/lib/Horde/Icalendar.php
@@ -1116,7 +1116,7 @@ protected function _exportvData($base = 'VCALENDAR')
                 $result .= $name . $params_str . ':'
                     . preg_replace(array('/(?<!\r)\n/', '/(?<!=)\r\n/'),
                                    array("\r\n", "=0D=0A=\r\n "),
-                                   Horde_Mime::quotedPrintableEncode($value))
+                                   quoted_printable_encode($value))
                     . $this->_newline;
             } else {
                 $attr_string = $name . $params_str . ':' . $value;
From 706bed2729d4ac0230e467b635a5beaa8748469f Mon Sep 17 00:00:00 2001
From: Michael M Slusarz <slusarz@horde.org>
Date: Thu, 2 Oct 2014 00:56:14 -0600
Subject: [PATCH] QP encoding has slightly changed

---
 .../Icalendar/test/Horde/Icalendar/fixtures/line-folding-4.ics |  6 +++---
 .../Icalendar/test/Horde/Icalendar/fixtures/line-folding-5.ics | 10 +++++-----
 2 files changed, 8 insertions(+), 8 deletions(-)

diff --git a/framework/Icalendar/test/Horde/Icalendar/fixtures/line-folding-4.ics b/framework/Icalendar/test/Horde/Icalendar/fixtures/line-folding-4.ics
index 76e1346..48d9c4b 100644
--- a/framework/Icalendar/test/Horde/Icalendar/fixtures/line-folding-4.ics
+++ b/framework/Icalendar/test/Horde/Icalendar/fixtures/line-folding-4.ics
@@ -5,8 +5,8 @@ BEGIN:VEVENT
 UID:XXX
 DTSTART:20080101T000000
 DTSTAMP:20080101T000000
-DESCRIPTION;CHARSET=UTF-8;ENCODING=QUOTED-PRINTABLE:L=C3=B6rem ips=C3=BCm d=C3=B6l=C3=B6r sit =C3=A4met, c=C3=B6nsectet=C3=BCer =
-=C3=A4dipiscing elit. Aliq=C3=BC=C3=A4m s=C3=B6llicit=C3=BCdin f=C3=A4=C3=BC=
-cib=C3=BCs m=C3=A4=C3=BCris =C3=A4met.
+DESCRIPTION;CHARSET=UTF-8;ENCODING=QUOTED-PRINTABLE:L=C3=B6rem ips=C3=BCm d=C3=B6l=C3=B6r sit =C3=A4met, c=C3=B6nsectet=C3=
+=BCer =C3=A4dipiscing elit. Aliq=C3=BC=C3=A4m s=C3=B6llicit=C3=BCdin f=
+=C3=A4=C3=BCcib=C3=BCs m=C3=A4=C3=BCris =C3=A4met.
 END:VEVENT
 END:VCALENDAR
diff --git a/framework/Icalendar/test/Horde/Icalendar/fixtures/line-folding-5.ics b/framework/Icalendar/test/Horde/Icalendar/fixtures/line-folding-5.ics
index 1cfbd12..f2d1157 100644
--- a/framework/Icalendar/test/Horde/Icalendar/fixtures/line-folding-5.ics
+++ b/framework/Icalendar/test/Horde/Icalendar/fixtures/line-folding-5.ics
@@ -5,10 +5,10 @@ BEGIN:VEVENT
 UID:XXX
 DTSTART:20080101T000000
 DTSTAMP:20080101T000000
-DESCRIPTION;CHARSET=UTF-8;ENCODING=QUOTED-PRINTABLE:L=C3=B6remips=C3=BCmd=C3=B6l=C3=B6rsit=C3=A4met,c=C3=B6nsectet=C3=BCer=C3=A4=
-dipiscingelit.Aliq=C3=BC=C3=A4ms=C3=B6llicit=C3=BCdinf=C3=A4=C3=BCcib=C3=BCs=
-m=C3=A4=C3=BCris=C3=A4met. L=C3=B6remips=C3=BCmd=C3=B6l=C3=B6rsit=C3=A4met,c=
-=C3=B6nsectet=C3=BCer=C3=A4dipiscingelit.Aliq=C3=BC=C3=A4ms=C3=B6llicit=C3=
-=BCdinf=C3=A4=C3=BCcib=C3=BCsm=C3=A4=C3=BCris=C3=A4met.
+DESCRIPTION;CHARSET=UTF-8;ENCODING=QUOTED-PRINTABLE:L=C3=B6remips=C3=BCmd=C3=B6l=C3=B6rsit=C3=A4met,c=C3=B6nsectet=C3=BCer=
+=C3=A4dipiscingelit.Aliq=C3=BC=C3=A4ms=C3=B6llicit=C3=BCdinf=C3=A4=C3=BCcib=
+=C3=BCsm=C3=A4=C3=BCris=C3=A4met. L=C3=B6remips=C3=BCmd=C3=B6l=C3=B6rsit=
+=C3=A4met,c=C3=B6nsectet=C3=BCer=C3=A4dipiscingelit.Aliq=C3=BC=C3=A4ms=
+=C3=B6llicit=C3=BCdinf=C3=A4=C3=BCcib=C3=BCsm=C3=A4=C3=BCris=C3=A4met.
 END:VEVENT
 END:VCALENDAR
